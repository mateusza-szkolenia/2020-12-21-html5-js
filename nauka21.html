<!DOCTYPE html>

<meta charset="UTF-8">

<script src="zadanie05.js"></script>

<style>
    .blad {
        background-color: #ff9999;
        outline: 4px solid #dd0000;
    }
    table td { border: 1px solid #000; padding: 0.4em; }
</style>

<h1>uczniowie</h1>
<textarea id='wejscie' rows=20 cols=80>
[
    {
        "imie" : "Jan",
        "nazwisko" : "Kowalski",
        "oceny" : "5 6 5 4"
    }
]
</textarea>
<br>
<button onclick='akcja()'>Przetwarzaj</button>
<div id="wynik"></div>

<script>
    function akcja(){
        try {
            var uczniowie = JSON.parse( document.querySelector("#wejscie").value )
            document.querySelector("#wejscie").classList.remove("blad")
        }
        catch ( e ){
            //console.log("WyjÄ…tek:", e )
            if ( e instanceof SyntaxError ){
                document.querySelector("#wejscie").classList.add("blad")
                var uczniowie = []
            }
        }

        document.querySelector("#wynik").innerHTML = ""
        wyswietl_uczniow( uczniowie, document.querySelector("#wynik") );
    }
    
</script>